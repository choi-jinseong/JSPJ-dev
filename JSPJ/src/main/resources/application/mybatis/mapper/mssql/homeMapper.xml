<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.JSPJ.demo.Mapper.homeMapper">

	<resultMap id="userInfoMap" type="com.JSPJ.demo.Vo.userVo">
		<result column="USER_ID"				property="id" />			<!-- 프로그램 아이디 					-->
		<result column="USERNAME"      		property="name" />			<!-- 프로그램 부모 아이디	 				-->
		<result column="USER_AUTH"      		property="userAuth" />			<!-- 프로그램 부모 아이디	 				-->
		<result column="EMAIL"        			property="email" />				<!-- 프로그램명칭 						-->
	</resultMap>
	

	<!-- 사용자 정보 로그인 -->
	<select id="userLogin" parameterType="com.JSPJ.demo.Vo.userVo" resultType="Integer">
		SELECT COUNT(1)
		FROM USER_INFO
		WHERE USER_ID = #{id}
	</select>
	
	<!-- 로그인 사용자 정보 조회 -->
	<select id="userInfo" parameterType="com.JSPJ.demo.Vo.userVo" resultMap="userInfoMap">
		SELECT USER_ID
				,USERNAME
				,USER_AUTH
				,EMAIL
		FROM USER_INFO
		WHERE USER_ID = #{id}
	</select>

	<!-- 회원가입시 아이디 중복검사 -->
	<select id="userIdChk" parameterType="com.JSPJ.demo.Vo.userVo" resultType="Integer">
		SELECT COUNT(1)
		FROM USER_INFO
		WHERE USER_ID = #{id}
	</select>
	
	<!-- 회원가입 -->
	<insert id="userRegist" parameterType="com.JSPJ.demo.Vo.userVo">
		INSERT INTO USER_INFO
			(USER_ID
			,PASSWORD
			,USERNAME
			,USER_AUTH
			,EMAIL
			,TELNO
			,BIRTH
			)
		VALUES(
			#{id}
			,#{pw}
			,#{name}
			,#{userAuth}
			,#{email}
			,#{telNo}
			,#{birth}
			)
	</insert>

</mapper>